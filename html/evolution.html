

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- HTTP 1.1 -->
    <meta http-equiv="pragma" content="no-cache">
    <!-- HTTP 1.0 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Expires" content="0" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" >
      <link rel="stylesheet" href="/custom/blog.css" >
      <link rel="stylesheet" href="/custom/blog-write.css" >
    <title>从Lemon谈架构演进之路</title>
  </head>
  <body data-spy="scroll" data-target="#navbar-example3" data-offset="120" >

    <blogHeader data-item="record"></blogHeader>

    <main class="blog-write-main">
        <div class="blog-menu">
            <nav id="navbar-example3" class="navbar navbar-light bg-light">
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link" href="#item-1">我的业务需要什么</a>
                    <nav class="nav nav-pills flex-column">
                        <a class="nav-link ml-3 my-1" href="#item-1-1">需要什么</a>
                    </nav>
                </nav>
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link" href="#item-2">企业开发</a>
                    <nav class="nav nav-pills flex-column">
                        <a class="nav-link ml-3 my-1" href="#item-2-1">企业业务难易度</a>
                        <a class="nav-link ml-3 my-1" href="#item-2-2">我们需要什么方案</a>
                        <a class="nav-link ml-3 my-1" href="#item-2-3">我们需要什么样的团队</a>
                    </nav>
                </nav>
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link" href="#item-3">分布式数据存储系统Lemon -On HBase&Mysql架构演进</a>
                    <nav class="nav nav-pills flex-column">
                        <a class="nav-link ml-3 my-1" href="#item-3-1">设计理念</a>
                        <a class="nav-link ml-3 my-1" href="#item-3-2">技术方案选择</a>
                    </nav>
                </nav>
            </nav>
        </div>

        <div class="blog-content ">
            <h1 id="item-1">我的业务需要什么</h1>
            <h3 id="item-1-1">需要什么？</h3>

            <div class="alert alert-primary" role="alert">
                <div class="spinner-grow" role="status">
                    <span class="sr-only">Loading...</span>
                  </div> 
                <a href="./lemon.html" class="alert-link  ">
                    点击了解：柠檬存储需求介绍
                </a>
            </div>

            
            <p>
                鉴于以上需求，以及作为一个多年软件开发者在面对时间无情地摧残下，自知机不可失，一切终将过去（coding的情怀在哪里，哈哈哈）。
                <span class="font-weight-bold font-italic mark">我们的目标：分布式数据存储系统Lemon -On HBase&Mysql</span><br/>
                接下来我会尽我的能力，一起来看看项目的演变之路。哈哈哈，虽然本人没有做过非常高大上的项目，没有一个服务于成千上万万成员的项目，但是就像道家追求的阴阳相合之道，我们都能在这世间找到我们的立足点。
            </p>

            <h3 id="item-2-2">我们需要什么方案？</h3>
            <p class="blog-text-indent">
                选择什么样的方案，需要看你处理哪些种类的业务，以及考虑业务的受众多少。我们从以下几种情况来分析
                <h5>1) 简单、复杂业务，受众很少</h5>
                <p>
                    直接上传统的已经非常成熟的J2EE方案，在这里一般我们就是 Spring + MyBatis , 已经能够处理的非常好了。 在这方案里，没什么好讲的，都是些常规性操作。
                </p>
                <h5>2）简单、复杂业务，受众很多</h5>
                <p>
                    直接上传统的已经非常成熟的J2EE方案，在这里一般我们就是 Spring + MyBatis , 已经能够处理的非常好了。 在这方案里，没什么好讲的，都是些常规性操作。
                    在这种情形下你可能需要考虑<span class="font-weight-bold">集群部署来应对常规的大批量并发访问</span>
                </p>
                <h5>3）复杂业务下的模块化构建</h5>
                <p>
                    如果你的业务足够复杂，我相信你急需一种方法来理清你的业务逻辑，通常在此情况下，模块化都是比较好的处理策略。但请你不要尝试微服务化方案，合适就好嘛。
                </p>
                <h5>4）微服务技术架构</h5>
                <p>如果你的确需要采用微服务的技术架构来应对你的业务挑战，我们需要考虑如下几点
                    <ul>
                        <li>你的业务边界定义的合适吗？</li>
                        <li>需要多少个节点来应对并发访问？</li>
                        <li>你定义的边界交换接口是幂等的吗，考虑了不可用吗？（服务降级策略）</li>
                        <li>更多的关注业务链在技术上的有效、通畅</li>
                        <li>评估微服务下业务能力的提升</li>
                    </ul>
                </p>
                <h5>5）中间件开发</h5>
                <p>
                    中间件开发需要更多的理解软件系统的构成，你需要更深入的理解另外一个中间件，比如某个存储中间件，又或者是网络通信、协议转换、设计模式、软件发布规范等
                </p>
            </p>
            <h3 id="item-2-3">我们需要什么样的团队？</h3>
            <p class="blog-text-indent">
                无论什么样的方案，我们都需要团队拥有严谨的逻辑，在业务上能够快速的应变。我们立足于<span class="font-weight-bold mark">技术是服务于业务</span>的原则，
                跟着业务的发展来选择合适的技术支撑。
            </p>
            <p class="blog-text-indent">
                <h3 id="item-3-2">技术方案选择</h3>
                <p class="blog-text-indent">

                    <h4>数据库访问方式</h4>
                    <p>Q：我们需要连接不同种类的数据库，不管MYSQL \ MSSQL\ORACLE\PG ,因此我们需要统一的访问方式</p>
                    <p>
                        A：因为我们用的JAVA语言开发的，所以Java Database Connectivity是我们最合适的选择
                    </p>
                    <h4>是否需要Spring</h4>
                    <p>Q：我们是否需要使用Spring Framework来支持我们的开发</p>
                    <p>
                        A：让我们来看看Spring框架能提供给我们什么，
                        <ul>
                            <li>IOC</li>
                            <li>DI</li>
                            <li>AOP</li>
                            <li>Spring Integrate With Others,Such As ORM,JMS</li>
                        </ul>
                        <ul style="list-style-type: decimal">
                            <li>我们项目中会大量使用单列，看起来Spring可以帮我们处理</li>
                            <li>项目中会访问数据库，Spring AOP 引出来的Transaction Manager会保证我们访问数据库时的ACID</li>
                            <li>IOC/DI也能偶让我们脱离成员关系依赖 ，能更好的面向接口、抽象类开发</li>
                        </ul>
                        然而我并不想引入Spring，虽然有那些好处，但是我们需要权衡资源利用效率的问题。鉴于以下几点
                        <ul style="list-style-type: decimal">
                            <li>我们的项目并不会面向接口、抽象类开发，或者更准确的说，我们并不会有接口的多种实现，虽然整个项目是<span>接口第一</span> </li>
                            <li>我们需要在单列中大量的初始化上下文，使用spring 需要factory机制，不太方便</li>
                            <li>我们会有我们特定的工厂入口，这些工厂入口会在用户的集群配置文件中出现，使用spring初始化起来不方便</li>
                            <li>程序引导主线程目前是单线程，过长的引导时间导致了在上下文时间里面不能完成初始化，后面需要改成多线程并行引导，不太好控制spring context的初始化</li>
                            <li>引入的jar包太多了额</li>
                        </ul>

                        <span class="mark h3">aha，所以我们不需要<del>Spring</del></span>

                    </p>

                    <h4>网络组件框架</h4>
                    <p>Q：提供TCP/HTTP协议的网络框架组件的选择</p>
                    <p>
                        A：基于我们的“统一数据模型”和“序列化/反序列化组件”,我们并不需要过多的关注HTTP协议包含的整体内容，比如并不需要关注URL带参数的GET请求等，
                        而且后期我们可能会从HTTP协议转到更底层的TCP协议上，所以我们放弃Servlet而选择Netty 
                    </p>
            </p>
        </div>

    </main>

    <blogFooter></blogFooter>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="/jquery/jquery-3.4.1.min.js"></script>
    <script src="/popper/popper.min.js" ></script>
    <script src="/bootstrap/js/bootstrap.min.js" ></script>
    <script src="/custom/blog.js" ></script>
  </body>
</html>
<script>


//$('[data-spy="scroll"]').on('activate.bs.scrollspy', function () {
//  // do something...
//})

</script>


